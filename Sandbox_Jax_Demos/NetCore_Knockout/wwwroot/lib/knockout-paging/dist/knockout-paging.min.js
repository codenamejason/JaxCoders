!function(e,r){"function"==typeof define&&define.amd?define(["knockout"],r):"object"==typeof exports?module.exports=r(require("knockout")):e.KnockoutElse=r(e.ko)}(this,function(e){"use strict";function r(r){return e.isObservable(r)&&Array.isArray(e.unwrap(r))}function t(e,r){for(var t=[],n=e;r>=n;n++)t.push(n);return t}function n(){this.generate=function(e){return t(1,e.pageCount())}}function a(){var r=this;r.windowSize=e.observable(5),r.generate=function(e){var n=e.pageNumber()-Math.floor(r.windowSize()/2),a=e.pageCount()-r.windowSize()+1,u=Math.max(1,Math.min(n,a)),o=Math.min(e.pageCount(),u+r.windowSize()-1);return t(u,o)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),e.paging={defaults:{pageNumber:1,pageSize:50},generators:{"default":new n,sliding:new a}},e.extenders.paged=function(t,n){if(!r(t))throw new Error("The paged extender can only be applied to observable arrays.");if(n&&n.pageNumber<1)throw new Error("The page number must be greater than zero.");if(n&&n.pageSize<1)throw new Error("The page size must be greater than zero.");if(n&&void 0!==n.pageGenerator&&void 0===e.paging.generators[n.pageGenerator])throw new Error("The page generator could not be found.");var a=e.observable(n&&n.pageNumber||e.paging.defaults.pageNumber||1);t.pageNumber=e.pureComputed({read:function(){return a()},write:function(e){a(Math.min(Math.max(1,e),t.pageCount()))},owner:t});var u=e.observable(n&&n.pageSize||e.paging.defaults.pageSize||50);return t.pageSize=e.pureComputed({read:function(){return u()},write:function(e){u(e),t.pageNumber()>t.pageCount()&&t.pageNumber(t.pageCount())},owner:t}),t.pageGenerator=e.paging.generators[n&&n.pageGenerator||"default"],t.pageItems=e.pureComputed(function(){return t().slice(t.firstItemOnPage()-1,t.lastItemOnPage())}),t.pageItems.extend({rateLimit:1}),t.pageCount=e.pureComputed(function(){return t.itemCount()<=0?1:Math.ceil(t.itemCount()/t.pageSize())}),t.itemCount=e.pureComputed(function(){return t().length}),t.firstItemOnPage=e.pureComputed(function(){return(t.pageNumber()-1)*t.pageSize()+1}),t.lastItemOnPage=e.pureComputed(function(){return 0==t.itemCount()?1:Math.min(t.pageNumber()*t.pageSize(),t.itemCount())}),t.hasPreviousPage=e.pureComputed(function(){return!t.isFirstPage()}),t.hasNextPage=e.pureComputed(function(){return!t.isLastPage()}),t.isFirstPage=e.pureComputed(function(){return 1==t.pageNumber()}),t.isLastPage=e.pureComputed(function(){return t.pageNumber()==t.pageCount()}),t.pages=e.pureComputed(function(){return t.pageGenerator.generate(t)}),t.toNextPage=function(){t.hasNextPage()&&t.pageNumber(t.pageNumber()+1)},t.toPreviousPage=function(){t.hasPreviousPage()&&t.pageNumber(t.pageNumber()-1)},t.toFirstPage=function(){t.isFirstPage()||t.pageNumber(1)},t.toLastPage=function(){t.isLastPage()||t.pageNumber(t.pageCount())},t},e.pagedObservableArray=function(r,t){return e.observableArray(r).extend({paged:t})}});